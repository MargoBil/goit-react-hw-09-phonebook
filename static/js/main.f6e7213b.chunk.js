(this["webpackJsonpgoit-react-hw-09-phonebook"]=this["webpackJsonpgoit-react-hw-09-phonebook"]||[]).push([[3],{14:function(e,t,n){"use strict";t.a={getTheme:function(e){return e.theme.themeColor}}},18:function(e,t,n){"use strict";t.a={getCurrentUserName:function(e){return e.auth.user.name},isAuthenticated:function(e){return e.auth.token}}},2:function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"c",(function(){return c})),n.d(t,"a",(function(){return u})),n.d(t,"i",(function(){return o})),n.d(t,"j",(function(){return i})),n.d(t,"h",(function(){return l})),n.d(t,"f",(function(){return s})),n.d(t,"g",(function(){return b})),n.d(t,"e",(function(){return h})),n.d(t,"d",(function(){return f})),n.d(t,"w",(function(){return m})),n.d(t,"u",(function(){return g})),n.d(t,"v",(function(){return d})),n.d(t,"t",(function(){return p})),n.d(t,"o",(function(){return O})),n.d(t,"p",(function(){return j})),n.d(t,"n",(function(){return _})),n.d(t,"r",(function(){return k})),n.d(t,"s",(function(){return v})),n.d(t,"q",(function(){return x})),n.d(t,"l",(function(){return E})),n.d(t,"m",(function(){return y})),n.d(t,"k",(function(){return U}));var a=n(1),r=Object(a.b)("name/addRequest"),c=Object(a.b)("name/addSuccess"),u=Object(a.b)("name/addFailure"),o=Object(a.b)("names/fetchRequest"),i=Object(a.b)("names/fetchSuccess"),l=Object(a.b)("names/fetchFailure"),s=Object(a.b)("name/deleteRequest"),b=Object(a.b)("name/deleteSuccess"),h=Object(a.b)("name/deleteFailure"),f=Object(a.b)("name/filter"),m=(Object(a.b)("theme/toggleRequest"),Object(a.b)("theme/toggleSuccess")),g=(Object(a.b)("theme/toggleFailure"),Object(a.b)("auth/logupRequest")),d=Object(a.b)("auth/logupSuccess"),p=Object(a.b)("auth/logupFailure"),O=Object(a.b)("auth/loginRequest"),j=Object(a.b)("auth/loginSuccess"),_=Object(a.b)("auth/loginFailure"),k=Object(a.b)("auth/logoutRequest"),v=Object(a.b)("auth/logoutSuccess"),x=Object(a.b)("auth/logoutFailure"),E=Object(a.b)("auth/currentUserRequest"),y=Object(a.b)("auth/currentUserSuccess"),U=Object(a.b)("auth/currentUserFailure")},21:function(e,t,n){e.exports={box:"UserMenu_box__23SK_",linkLight:"UserMenu_linkLight__2CHuG",linkDark:"UserMenu_linkDark__R8sVY UserMenu_linkLight__2CHuG",active:"UserMenu_active__3lEHL"}},24:function(e,t,n){e.exports={textLight:"UserProfile_textLight__2VLhT",textDark:"UserProfile_textDark__39M3W UserProfile_textLight__2VLhT",btnBox:"UserProfile_btnBox__17gVW",box:"UserProfile_box__1OxSz",btnLight:"UserProfile_btnLight__3o21G",btnDark:"UserProfile_btnDark__1mYQi UserProfile_btnLight__3o21G"}},25:function(e,t,n){e.exports={list:"Navigation_list__WMpOr",item:"Navigation_item__3st2a",linkLight:"Navigation_linkLight__3DLdP",linkDark:"Navigation_linkDark__6ByoL Navigation_linkLight__3DLdP",active:"Navigation_active__32to9"}},27:function(e,t,n){"use strict";var a=n(17),r=n.n(a),c=n(23),u=n(2),o=n(19),i=n.n(o);i.a.defaults.baseURL="https://goit-phonebook-api.herokuapp.com";var l=function(e){i.a.defaults.headers.common.Authorization="Bearer ".concat(e)},s=function(){i.a.defaults.headers.common.Authorization=""};t.a={logUp:function(e){return function(){var t=Object(c.a)(r.a.mark((function t(n){var a,c;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,n(u.u()),t.next=4,i.a.post("/users/signup",e);case 4:a=t.sent,c=a.data,l(c.token),n(u.v(c)),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(0),n(u.t(t.t0));case 13:case"end":return t.stop()}}),t,null,[[0,10]])})));return function(e){return t.apply(this,arguments)}}()},logIn:function(e){return function(){var t=Object(c.a)(r.a.mark((function t(n){var a,c;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,n(u.o()),t.next=4,i.a.post("/users/login",e);case 4:a=t.sent,c=a.data,l(c.token),n(u.p(c)),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(0),n(u.n(t.t0));case 13:case"end":return t.stop()}}),t,null,[[0,10]])})));return function(e){return t.apply(this,arguments)}}()},logOut:function(){return function(){var e=Object(c.a)(r.a.mark((function e(t){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t(u.r()),e.next=4,i.a.post("/users/logout");case 4:s(),t(u.s()),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),t(u.q(e.t0));case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}()},getCurrentUser:function(){return function(){var e=Object(c.a)(r.a.mark((function e(t,n){var a,c,o,s;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,a=n(),c=a.auth.token){e.next=4;break}return e.abrupt("return");case 4:return l(c),t(u.l()),e.next=8,i.a.get("/users/current");case 8:o=e.sent,s=o.data,t(u.m(s)),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(0),t(u.k(e.t0));case 16:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(t,n){return e.apply(this,arguments)}}()}}},51:function(e,t,n){e.exports={btnLight:"ThemeButton_btnLight__3lNYB",btnDark:"ThemeButton_btnDark__1q-Ed ThemeButton_btnLight__3lNYB"}},53:function(e,t,n){e.exports=n(83)},83:function(e,t,n){"use strict";n.r(t);var a,r,c,u,o=n(0),i=n.n(o),l=n(26),s=n.n(l),b=n(7),h=n(15),f=n(50),m=n(1),g=n(16),d=n(32),p=n.n(d),O=n(6),j=n(5),_=n(52),k=n(2),v=Object(m.c)([],(a={},Object(j.a)(a,k.c,(function(e,t){return[].concat(Object(_.a)(e),[t.payload])})),Object(j.a)(a,k.j,(function(e,t){return t.payload})),Object(j.a)(a,k.g,(function(e,t){return e.filter((function(e){return e.id!==t.payload}))})),a)),x=Object(m.c)("",Object(j.a)({},k.d,(function(e,t){return t.payload}))),E=Object(m.c)("Light",Object(j.a)({},k.w,(function(e,t){return t.payload}))),y={name:null,email:null},U=Object(m.c)(y,(r={},Object(j.a)(r,k.v,(function(e,t){return t.payload.user})),Object(j.a)(r,k.p,(function(e,t){return t.payload.user})),Object(j.a)(r,k.m,(function(e,t){return t.payload})),Object(j.a)(r,k.s,(function(){return y})),r)),C=Object(m.c)(null,(c={},Object(j.a)(c,k.v,(function(e,t){return t.payload.token})),Object(j.a)(c,k.p,(function(e,t){return t.payload.token})),Object(j.a)(c,k.s,(function(){return null})),c)),L=Object(m.c)(null,(u={},Object(j.a)(u,k.t,(function(e,t){return t.payload})),Object(j.a)(u,k.n,(function(e,t){return t.payload})),Object(j.a)(u,k.q,(function(e,t){return t.payload})),Object(j.a)(u,k.k,(function(e,t){return t.payload})),u)),N=Object(O.c)({items:v,filter:x}),P=Object(O.c)({themeColor:E}),w=Object(O.c)({user:U,token:C,error:L}),S={key:"auth",storage:p.a,whitelist:["token"]},A={key:"theme",storage:p.a,whitelist:["themeColor"]},T=Object(m.a)({reducer:{contacts:N,theme:Object(g.g)(A,P),auth:Object(g.g)(S,w)},middleware:Object(m.d)({serializableCheck:{ignoredActions:[g.a,g.f,g.b,g.c,g.d,g.e]}})}),D=Object(g.h)(T),q=n(35),B=n(36),R=n(38),I=n(37),M=n(4),F=n(14),z=n(51),G=n.n(z),V={toggleTheme:k.w},Y=Object(b.b)((function(e){return{theme:F.a.getTheme(e)}}),V)((function(e){var t,n=e.theme,a=e.toggleTheme;return t="Light"===n?"Dark":"Light",i.a.createElement("button",{className:G.a["btn".concat(n)],type:"button",onClick:function(){return a(t)}},n)})),W=Object(b.b)((function(e){return{theme:F.a.getTheme(e)}}))((function(e){var t=e.theme,n=e.children,a="Light"===t;return document.body.style.backgroundColor=a?"#ffffff":"#0a4658",i.a.createElement("div",null,n)})),H={contactsPage:{path:"/contacts",lable:"ContactsPage",exact:!0,component:Object(o.lazy)((function(){return n.e(0).then(n.bind(null,95))}))},signUpPage:{path:"/signUpView",lable:"SignUpPage",exact:!0,component:Object(o.lazy)((function(){return n.e(2).then(n.bind(null,93))})),restricted:!1},signInPage:{path:"/signInView",lable:"SignInPage",exact:!0,component:Object(o.lazy)((function(){return n.e(1).then(n.bind(null,94))})),restricted:!0}},J=n(18),K=n(27),Q=n(24),X=n.n(Q),Z={onLogout:K.a.logOut},$=Object(b.b)((function(e){return{name:J.a.getCurrentUserName(e),themeColor:F.a.getTheme(e)}}),Z)((function(e){var t=e.name,n=e.onLogout,a=e.themeColor;return i.a.createElement("div",{className:X.a.box},i.a.createElement("span",{className:X.a["text".concat(a)]},"Welcome, ",t,"!"),i.a.createElement("div",{className:X.a.btnBox},i.a.createElement("button",{className:X.a["btn".concat(a)],type:"button",onClick:n},"SignOut")))})),ee=n(21),te=n.n(ee),ne=Object(b.b)((function(e){return{isAuth:J.a.isAuthenticated(e),themeColor:F.a.getTheme(e)}}))((function(e){var t=e.isAuth,n=e.themeColor,a=H.signUpPage,r=H.signInPage;return i.a.createElement("div",{className:te.a.box},i.a.createElement(h.b,{className:te.a["link".concat(n)],activeClassName:te.a.active,exact:!0,to:a.path},i.a.createElement("h2",null,"SignUp")),i.a.createElement(h.b,{className:te.a["link".concat(n)],activeClassName:te.a.active,exact:!0,to:r.path},i.a.createElement("h2",null,"SignIn")),t&&i.a.createElement($,null))})),ae=n(25),re=n.n(ae),ce=Object(b.b)((function(e){return{themeColor:F.a.getTheme(e)}}))((function(e){var t=e.themeColor,n=H.contactsPage;return i.a.createElement("ul",{className:re.a.list},i.a.createElement("li",{className:re.a.item},i.a.createElement(h.b,{className:re.a["link".concat(t)],activeClassName:re.a.active,exact:!0,to:n.path},i.a.createElement("h2",null,"MY CONTACTS")),i.a.createElement(ne,null)))})),ue=n(29),oe=Object(b.b)((function(e){return{isAuthenticated:J.a.isAuthenticated(e)}}))((function(e){var t=e.component,n=e.isAuthenticated,a=Object(ue.a)(e,["component","isAuthenticated"]);return i.a.createElement(M.b,Object.assign({},a,{render:function(e){return n?i.a.createElement(t,e):i.a.createElement(M.a,{to:H.signInPage.path})}}))})),ie=Object(b.b)((function(e){return{isAuthenticated:J.a.isAuthenticated(e)}}))((function(e){var t=e.component,n=e.isAuthenticated,a=e.restricted,r=Object(ue.a)(e,["component","isAuthenticated","restricted"]);return i.a.createElement(M.b,Object.assign({},r,{render:function(e){return n&&a?i.a.createElement(M.a,{to:H.contactsPage.path}):i.a.createElement(t,e)}}))})),le=function(e){Object(R.a)(n,e);var t=Object(I.a)(n);function n(){return Object(q.a)(this,n),t.apply(this,arguments)}return Object(B.a)(n,[{key:"componentDidMount",value:function(){this.props.onGetCurrentUser()}},{key:"render",value:function(){var e=H.contactsPage,t=H.signUpPage,n=H.signInPage;return i.a.createElement(W,null,i.a.createElement(ce,null),i.a.createElement(o.Suspense,{fallback:i.a.createElement("div",null)},i.a.createElement(M.d,null,i.a.createElement(oe,e),i.a.createElement(ie,t),i.a.createElement(ie,n),i.a.createElement(M.a,{to:"/"}))),i.a.createElement(Y,null))}}]),n}(o.Component),se={onGetCurrentUser:K.a.getCurrentUser},be=Object(b.b)(null,se)(le);s.a.render(i.a.createElement(h.a,null,i.a.createElement(b.a,{store:T},i.a.createElement(f.a,{loading:null,persistor:D},i.a.createElement(be,null)))),document.getElementById("root"))}},[[53,4,5]]]);
//# sourceMappingURL=main.f6e7213b.chunk.js.map